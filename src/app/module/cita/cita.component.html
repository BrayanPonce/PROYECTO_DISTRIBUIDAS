<section class="fecha">
  <div class="text-center p-md-1">
    <app-header-cita></app-header-cita>
  </div>
  <main *ngIf="citas.length > 0; else noCitas">
    <app-card-oneline *ngFor="let i of citas"></app-card-oneline>
  </main>

  <ng-template #noCitas>
    <main class="text-center p-md-1">
      <h1>No hay Citas</h1>
    </main>
  </ng-template>
  <app-modal [style]="activateModal ? 'display: block' : 'display: none'" [withClickDesactiveModal]="false">
    <div class="p-3 rounded">
      <div class="d-flex flex-column">
        <div class="form-group row mb-4">
          <label for="inputPaciente" class="col-sm-4 col-form-label text-end">Paciente</label>
          <div class="col-sm-8">
            <div class="input-group">
              <input type="text" id="inputPaciente" class="form-control" placeholder="Buscar paciente" (input)="filterPacientes()" (focus)="showDropdown = true" (blur)="hideDropdown()">
              <button type="button" class="btn btn-danger" (click)="WatchData()">+</button>
            </div>
            <div class="dropdown-menu custom-dropdown" [class.show]="showDropdown">
              <button class="dropdown-item" *ngFor="let paciente of filteredPacientes" (mousedown)="selectPaciente(paciente)">{{ paciente.name }}</button>
            </div>
          </div>
        </div>
        <div class="form-group row mb-4">
          <label for="fechaInput" class="col-sm-4 col-form-label text-end">Fecha</label>
          <div class="col-sm-8">
            <input type="text" id="fechaInput" class="form-control" placeholder="Fecha">
          </div>
        </div>
        <div class="form-group row mb-4">
          <label for="horaInput" class="col-sm-4 col-form-label text-end">Hora</label>
          <div class="col-sm-8">
            <input type="text" id="horaInput" class="form-control" placeholder="Hora">
          </div>
        </div>
        <div class="form-group row mb-4">
          <label for="sesionesInput" class="col-sm-4 col-form-label text-end">Sesiones</label>
          <div class="col-sm-8">
            <input type="text" id="sesionesInput" class="form-control" placeholder="Sesiones">
          </div>
        </div>
        <div class="form-group row mb-4">
          <label for="tipoInput" class="col-sm-4 col-form-label text-end">Tipo</label>
          <div class="col-sm-8">
            <input type="text" id="tipoInput" class="form-control" placeholder="Tipo">
          </div>
        </div>
        <div class="d-flex justify-content-end">
          <button class="btn btn-primary"><strong>Agregar</strong></button>
        </div>
      </div>
    </div>
  </app-modal>
</section>

<app-register-pacient *ngIf="activarModalPaciente">
  <div class="container border border-warning">
    <h1>Registrar Paciente Nuevo</h1>
    <div class="scrollable-content">
      <div class="form-group row mb-4">
        <label for="nombreInput" class="col-sm-4 col-form-label text-end">Nombre Completo</label>
        <div class="col-sm-8">
          <input type="text" id="nombreInput" class="form-control" placeholder="Nombre Completo">
        </div>
      </div>
      <div class="form-group row mb-4">
        <label for="apellidoPaternoInput" class="col-sm-4 col-form-label text-end">Apellido Paterno</label>
        <div class="col-sm-8">
          <input type="text" id="apellidoPaternoInput" class="form-control" placeholder="Apellido Paterno">
        </div>
      </div>
      <div class="form-group row mb-4">
        <label for="apellidoMaternoInput" class="col-sm-4 col-form-label text-end">Apellido Materno</label>
        <div class="col-sm-8">
          <input type="text" id="apellidoMaternoInput" class="form-control" placeholder="Apellido Materno">
        </div>
      </div>
      <div class="form-group row mb-4">
        <label for="dniInput" class="col-sm-4 col-form-label text-end">DNI</label>
        <div class="col-sm-8">
          <input type="text" id="dniInput" class="form-control" placeholder="DNI">
        </div>
      </div>
      <div class="form-group row mb-4">
        <label for="telefonoInput" class="col-sm-4 col-form-label text-end">Télefono</label>
        <div class="col-sm-8">
          <input type="text" id="telefonoInput" class="form-control" placeholder="Teléfono">
        </div>
      </div>
      <div class="form-group row mb-4">
        <label for="correoInput" class="col-sm-4 col-form-label text-end">Correo</label>
        <div class="col-sm-8">
          <input type="text" id="correoInput" class="form-control" placeholder="Correo">
        </div>
      </div>
      <div class="form-group row mb-4">
        <label for="edadInput" class="col-sm-4 col-form-label text-end">Edad</label>
        <div class="col-sm-8">
          <input type="text" id="edadInput" class="form-control" placeholder="Edad">
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-primary">Agregar</button>
  </div>
</app-register-pacient>
